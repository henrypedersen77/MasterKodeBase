<!DOCTYPE html>
<html>
<head>
    <title>
    Manage product
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/Styles/StyleSheet.css" rel="stylesheet" />
    <link href="/Frameworks/bootstrap-3.3.5-dist/css/bootstrap.css" rel="stylesheet" />
    <script src="/Frameworks/jQuery/jquery-2.1.4.js"></script>
    <script src="/Frameworks/bootstrap-3.3.5-dist/js/bootstrap.js"></script>
    <script src="/Scripts/Template.js"></script>
    <script src="/Frameworks/ember-template-compiler.js"></script>
    <script src="/Frameworks/ember.debug.js"></script>
    <script src="/Frameworks/ember-data.js"></script>
    <script src="../../Scripts/manageproducts.js"></script>
</head>
<body id="ember-app">
    <div id="header"></div> <!-- Template.js indsætter Template.html her -->
    <!-- Det er kun brugeren med login=admin der kan tilgå Management siderne -->
    <script type="text/x-handlebars" data-template-name="application">
        <div id="content">
            {{outlet}}
        </div>
    </script>
    <script type="text/x-handlebars" data-template-name="index">
        <!-- MVC JavaScript opgave ----
             Opret forbindelse/hook imellem nedenstående felter, knap og det pågældende mvc javascript framework.
             -->
        <p>
        Name:
        </p>
        <p>
            {{input id="name" value=model.product.name type="text" class="inputs"}}
        </p>
        <p>
            Type:
        </p>
        <p>
            <!-- MVC JavaScript opgave ----
                 Nedenstående dropdown kommer fra produkttype tabellen, og data skal hentes ved at udføre
                 et HTTP GET REST kald til /api/producttypes.
                 Dette kald håndteres af metoden "public List<ProductType> Get()" i /Controllers/ProductTypeController.cs -->
            <!--<select id="ddlType" class="inputs">
                <option>1</option>
                <option>2</option>
            </select>-->
            <select onchange={{action "changeType" }}>
                {{#each model.producttypes as |typeChoice|}}
                <option value={{typeChoice.id}} selected={{eqint model.product.typeid typeChoice.id}}>
                {{typeChoice.name}}
                </option>
                {{/each}}
            </select>
        </p>
        <p>
            Price:
        </p>
        <p>
            {{input id="price" value=model.product.price type="text" class="inputs"}}
        </p>
        <p>
            Image:
        </p>
        <!-- MVC JavaScript opgave ----
             Nedenstående dropdown kommer fra produktbilledefilerne på serveren, og filnavne på disse hentes ved at udføre
             et HTTP GET REST kald til /api/image.
             Dette kald håndteres af metoden "public List<string> Get()" i /Controllers/ImageController.cs -->
        <p>
            <!--<select id="ddlImage" class="inputs">
                <option>1</option>
                <option>2</option>
            </select>-->
            <select onchange={{action "changeImage" }}>
                {{#each model.images as |imageChoice|}}
                <option value={{imageChoice}} selected={{eq model.product.image imageChoice}}>
                {{imageChoice}}
                </option>
                {{/each}}
            </select>
        </p>
        <p>
            Description:
        </p>
        <p>
            <!--<textarea rows=" 2" cols="20" id="ContentPlaceHolder1_txtDescription" class="inputs" style="height:74px;width:240px;"></textarea>-->
            {{textarea value=model.product.description cols="100" rows="4" id="ContentPlaceHolder1_txtDescription" style="height:74px;width:240px;"}}
        </p>
        <!-- MVC JavaScript opgave ----
             Ved tryk på nednestående knap skal der sendes en HTTP post til /api/product med JSON dataet på formen
                {
                   "TypeID": 4,
                   "Name": "Fuel Filters",
                   "Price": 150.0,
                   "Description": "bla bla bla",
                   "Image": "Cylinder Heads.jpg"
               }
            I feltet lblResult skal der angives om det er gået godt eller ej -->
        <p>
            <input id="btnSubmit" type="button" value="Submit" {{action "save"}} />
        </p>
        <p>
            <div id="lblResult">
            {{statusmessage}}
            </div>
        </p>
    </script>
</body>
</html>