<!DOCTYPE html>
<head>
    <title>Manage product</title>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="../../Styles/StyleSheet.css" rel="stylesheet" />
    <link href="../../Frameworks/bootstrap-3.3.5-dist/css/bootstrap.css" rel="stylesheet" />

    <script src="../../Frameworks/jQuery/jquery-2.1.4.js"></script>
    <script src="../../Frameworks/bootstrap-3.3.5-dist/js/bootstrap.js"></script>
    <script src="../../Scripts/Template.js"></script>
    <script src="../../Frameworks/backbone/underscore-min.js"></script>
    <script src="../../Frameworks/backbone/backbone-min.js"></script>
</head>
<body>
    <div id="header"></div> <!-- Template.js indsætter Template.html her -->

    <div id="content">
        <script type="text/template" id="product-tmpl">
            <!-- MVC JavaScript opgave ----
             Opret forbindelse/hook imellem nedenstående felter, knap og det pågældende mvc javascript framework.
             -->
            <p>Name:</p>
            <p>
                <input id="txtName" type="text" class="inputs" value="<%= Name %>" />
            </p>

            <p>
                Type:
            </p>
            <p>

                <select id="ddlType">
                    <% _.each(producttypelist.models, function(dropdownitem) {
                    if (dropdownitem.attributes.ID == TypeID) { %>
                    <option selected=" selected" value="<%= dropdownitem.attributes.ID %>">
                        <%= dropdownitem.attributes.Name %>
                    </option>
                    <% } else { %>
                    <option value="<%= dropdownitem.attributes.ID %>"><%= dropdownitem.attributes.Name %></option>
                    <% } }); %>
                </select>

                <!-- MVC JavaScript opgave ----
                 Nedenstående dropdown kommer fra produkttype tabellen, og data skal hentes ved at udføre
                 et HTTP GET REST kald til api/producttypes.
                 Dette kald håndteres af metoden "public List<ProductType> Get()" i /Controllers/ProductTypeController.cs -->
            </p>
            <p>
                Price:
            </p>
            <p>
                <input id="txtPrice" type="text" class="inputs" value="<%= Price %>" />
            </p>
            <p>
                Image:
            </p>
            <!-- MVC JavaScript opgave ----
             Nedenstående dropdown kommer fra produktbilledefilerne på serveren, og filnavne på disse hentes ved at udføre
             et HTTP GET REST kald til api/image.
             Dette kald håndteres af metoden "public List<string> Get()" i /Controllers/ImageController.cs -->
            <p>
                <select id="ddlImage">
                    <% _.each(imagelist.models, function(dropdownitem) {
                    if (dropdownitem.attributes == Image) { %>
                    <option selected=" selected" value="<%= dropdownitem.attributes %>">
                        <%= dropdownitem.attributes %>
                    </option>
                    <% } else { %>
                    <option value="<%= dropdownitem.attributes.ID %>"><%= dropdownitem.attributes %></option>
                    <% } }); %>
                </select>
            </p>
            <p>
                Description:
            </p>
            <p>
                <input id="txtDescription" type="text" class="inputs" value="<%= Description %>" />
            </p>
            <!-- MVC JavaScript opgave ----
             Ved tryk på nednestående knap skal der sendes en HTTP post til /api/product med JSON dataet på formen
                {
                   "TypeID": 4,
                   "Name": "Fuel Filters",
                   "Price": 150.0,
                   "Description": "bla bla bla",
                   "Image": "Cylinder Heads.jpg"
               }
            I feltet lblResult skal der angives om det er gået godt eller ej -->
            <p>
                <input id="btnSubmit" type="button" value="Submit" class=" button" data-id="<%= ID %>" />
            </p>
            <p>
                <div id="lblResult"></div>
            </p>
        </script>
    </div>
    <script src="../../Scripts/Manageproduct.js"></script>
</body>
