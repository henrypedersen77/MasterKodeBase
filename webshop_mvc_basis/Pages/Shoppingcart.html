<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="Shoppingcart_Module">
<head>
    <title>Shopping Cart</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="/Styles/StyleSheet.css" rel="stylesheet" />
    <link href="/Frameworks/bootstrap-3.3.5-dist/css/bootstrap.css" rel="stylesheet" />

    <script src="/Frameworks/jQuery/jquery-2.1.4.js"></script>
    <script src="/Frameworks/bootstrap-3.3.5-dist/js/bootstrap.js"></script>
    <script src="/Scripts/Template.js"></script>
    <script src="../../Frameworks/angular-1.4.5/angular.js"></script>
    <script src="../Scripts/Shoppingcart.js"></script>
</head>
<body ng-controller="Shoppingcart_Controller as shoppingcart_ctrl">
    <div id="header"></div> <!-- Template.js indsætter Template.html her -->

    <div id="content">

        <div id="ContentPlaceHolder1_pnlShoppingCart">
            <!-- MVC JavaScript opgave ----
                 Der skal laves en table per cart returneret fra HTTP get kaldet til /api/chart/{userId}/orders"-->
            <table class="CartTable">
                <tr>
                    <td align="left" style="width:350px;">
                        <h4>Product.Name</h4><br />
                        Item No: Product.ID<br />
                        In Stock
                    </td>
                    <td>Unit Price<hr /></td>
                    <td>Quantity<hr /></td>
                    <td>Item Total<hr /></td>

                    <!-- MVC JavaScript opgave ----
            Ved tryk på delete skal der sendes en HTTP Delete til /api/cart/{cartID}
            + denne side skal opfriskes -->
                    <td></td>
                    <!--ng-click="index_ctrl.url_redirect(list.ID)"-->
                </tr>
                <tr ng-repeat="list in shoppingcart_ctrl.items">
                    <td align="left" style="width:350px;">
                        <input type="image" ng-src="{{shoppingcart_ctrl.getImageUrl(list.Product.Image)}}" />
                        <h4>{{list.Product.Name}}</h4><br />
                        {{list.Product.ID}}<br />
                        In Stock
                    </td>
                       <td>{{list.Product.Price}}</td>

                        <!-- MVC JavaScript opgave ----
        Rettes der i nedenstående amount, skal der sendes en HTTP post til /api/cart/{cartid}/amount med
        antal angivet i JSON dataet-->
                        <!--<select ng-change="test" ng-model=""
                        </select>-->
                    <td><select ng-model="list.Amount" data-ng-options="i for i in [1,2,3,4,5,6,7,8,9,10]" ng-change="shoppingcart_ctrl.updateItem(list)"></select></td>
                    <td>{{list.Amount * list.Product.Price}}</td>
                    <td><a id="ContentPlaceHolder1_del8" ng-click="shoppingcart_ctrl.deleteItem(list)">Delete Item</a></td>
                </tr>
            </table>
        </div>
        <table>
            <tr>
                <td>
                    <b>Total: </b>
                </td>
                <td>
                    {{shoppingcart_ctrl.linetotal}}
                </td>
            </tr>

            <tr>
                <td>
                    <b>Vat: </b>
                </td>
                <td>
                    {{shoppingcart_ctrl.vat}}
                </td>
            </tr>
            <tr>
                <td>
                    <b>Shipping: </b>
                </td>
                <td>
                    £ 15
                </td>
            </tr>

            <tr>
                <td>
                    <b>Total Amount: </b>
                </td>
                <td>
                    {{shoppingcart_ctrl.cartamount}}
                </td>
            </tr>

            <tr>
                <td>
                    <br />
                    <!-- MVC JavaScript opgave ----
                         Ved tryk på continue shopping redirectes der til "Pages/Index.html" -->
                    <a id="ContentPlaceHolder1_LinkButton1" href="Index.html">Continue Shopping</a> &nbsp;&nbsp; or

                    <!-- MVC JavaScript opgave ----
                         Ved tryk på checkout skal der sendes en HTTP post til api/cart/paid, med JSON data på formen
                            [
                                {ID: 1},
                                {ID: 2}
                            ]
                    ID'erne angiver cart'sne ID'er.

                    Der skal sluttes af med at redirecte til Pages/Success.html -->
                    <input id="ContentPlaceHolder1_btnCheckout" type="button" value="Check Out" class=" button" style="width:250px;" ng-click="shoppingcart_ctrl.checkout()" />
                </td>
            </tr>

        </table>

    </div>

</body>
</html>

